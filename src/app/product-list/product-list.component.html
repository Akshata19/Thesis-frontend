<div class="container-fluid mt-4">
  <div class="row">
    <!-- Left Filter Sidebar -->
    <div class="col-md-3 filter-sidebar p-4 bg-light rounded shadow-sm">
      <h5 class="fw-bold mb-4">Filters</h5>

      <!-- Price Range -->
      <div class="mb-4">
        <h6>Price Range</h6>
        <div class="form-check">
          <input
            class="form-check-input"
            type="radio"
            name="price"
            id="price1"
            value="low"
            [(ngModel)]="selectedPrice"
            (change)="applyFilters()"
          />
          <label class="form-check-label" for="price1">Under $100</label>
        </div>
        <div class="form-check">
          <input
            class="form-check-input"
            type="radio"
            name="price"
            id="price2"
            value="mid"
            [(ngModel)]="selectedPrice"
            (change)="applyFilters()"
          />
          <label class="form-check-label" for="price2">$100 - $500</label>
        </div>
        <div class="form-check">
          <input
            class="form-check-input"
            type="radio"
            name="price"
            id="price3"
            value="high"
            [(ngModel)]="selectedPrice"
            (change)="applyFilters()"
          />
          <label class="form-check-label" for="price3">Above $500</label>
        </div>
      </div>

      <!-- Category -->
      <div class="mb-4">
        <h6>Categories</h6>
        <div
          class="form-check"
          *ngFor="let cat of ['Electronics', 'Clothing', 'Mobiles']"
        >
          <input
            class="form-check-input"
            type="checkbox"
            [id]="cat"
            [(ngModel)]="categoryCheckboxes[cat]"
            (change)="onCategoryCheckboxChange()"
          />
          <label class="form-check-label" [for]="cat">{{ cat }}</label>
        </div>
      </div>
    </div>

    <!-- Products Column -->
    <div class="col-md-9">
      <div *ngIf="!products.length" class="text-center mt-5">
        <h4>Loading products...</h4>
      </div>

      <div
        *ngFor="let product of filteredProducts"
        class="card product-card d-flex flex-row align-items-start p-3 mb-4 shadow-sm"
      >
        <img [src]="product.image" alt="product" class="product-image me-3" />

        <div class="product-info">
          <h5 class="fw-bold mb-2">{{ product.name }}</h5>
          <p class="text-muted mb-2">{{ product.description }}</p>
          <p class="fw-semibold mb-2">Price: ${{ product.price }}</p>
          <button
            class="btn btn-outline-primary btn-sm"
            (click)="addToCart(product)"
          >
            Add to Cart
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
